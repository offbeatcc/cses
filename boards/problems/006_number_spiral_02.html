<!DOCTYPE html>
<html lang="en">
<title>Number Spiral: Diagonal</title>
<script src="https://cdn.jsdelivr.net/npm/muboard"></script>
<textarea style="display: none">
<section>
<section>

# Number Spiral: Diagonal

\begin{array}{r r r r r}
   1 &  2 &  9 & 10 & 25 & \dots \\
   4 &  3 &  8 & 11 & 24 & \dots \\
   5 &  6 &  7 & 12 & 23 & \dots \\
  16 & 15 & 14 & 13 & 22 & \dots \\
  17 & 18 & 19 & 20 & 21 & \dots \\
  \vdots & \vdots & \vdots & \vdots & \vdots
\end{array}

Let \( f(y, x) \) represent the number in row \( y \) and column \( x
\).


## Illustration

\begin{align*}
  f(1, 1) &= 1, \\
  f(2, 2) &= 1 + 2 = 3, \\
  f(3, 3) &= 1 + 2 + 4 = 7, \\
  f(4, 4) &= 1 + 2 + 4 + 6 = 13, \\
  f(5, 5) &= 1 + 2 + 4 + 6 + 8 = 21, \\
  &\;\,\vdots
\end{align*}

</section>
<section>

## Places Relative to Diagonal

\( (y, x) \) falls exactly on the diagonal if and only if \( y = x \).

\( (y, x) \) falls above/on the right of diagonal if and only if \( y < x \).

\( (y, x) \) falls below/on the left of the diagonal if and only if \( y > x \).


## Formulas

\begin{align*}
  f(k, k)
  &= 1 + 2 + 4 + \dots + 2(k - 1) \\
  &= 1 + 2\{ 1 + 2 + \dots + (k - 1) \} \\
  &= 1 + 2 \cdot \frac{(k - 1) k}{2} \\
  &= 1 + k(k - 1).
\end{align*}

\begin{align*}
f(y, x) &= \begin{cases}
  f(x, x) + (x - y) & \text{ if } y \le x \text{ and } x \text{ is odd}, \\
  f(x, x) - (x - y) & \text{ if } y \le x \text{ and } x \text{ is even}, \\
  f(y, y) - (y - x) & \text{ if } y \ge x \text{ and } y \text{ is odd}, \\
  f(y, y) + (y - x) & \text{ if } y \ge x \text{ and } y \text{ is even}.
\end{cases} \\ \\
&= \begin{cases}
  f(x, x) - (y - x) & \text{ if } y \le x \text{ and } x \text{ is odd}, \\
  f(x, x) + (y - x) & \text{ if } y \le x \text{ and } x \text{ is even}, \\
  f(y, y) - (y - x) & \text{ if } y \ge x \text{ and } y \text{ is odd}, \\
  f(y, y) + (y - x) & \text{ if } y \ge x \text{ and } y \text{ is even}.
\end{cases} \\ \\
&= f(k, k) - (-1)^k (y - x). \qquad (k = \max(y, x))
\end{align*}


</section>
</section>
</textarea>
